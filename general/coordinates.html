

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Coordinates &mdash; Data formats for gamma-ray astronomy 0.3.dev documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="FITS Multidimensional datasets" href="fits-arrays.html" />
    <link rel="prev" title="Time" href="time.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Data formats for gamma-ray astronomy
          

          
          </a>

          
            
            
              <div class="version">
                0.3.dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">General</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="time.html">Time</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Coordinates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ra-dec">RA / DEC</a></li>
<li class="toctree-l3"><a class="reference internal" href="#galactic">Galactic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#alt-az">Alt / Az</a></li>
<li class="toctree-l3"><a class="reference internal" href="#field-of-view">Field of view</a></li>
<li class="toctree-l3"><a class="reference internal" href="#earth-location">Earth location</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fits-arrays.html">FITS Multidimensional datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="hduclass.html">HDU classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="notes.html">Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../events/index.html">IACT events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../irfs/index.html">IACT IRFs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_storage/index.html">IACT data storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../skymaps/index.html">Sky Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spectra/index.html">Spectra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lightcurves/index.html">Light curves</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Data formats for gamma-ray astronomy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">General</a> &raquo;</li>
        
      <li>Coordinates</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/general/coordinates.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="coordinates">
<span id="coords"></span><h1>Coordinates<a class="headerlink" href="#coordinates" title="Permalink to this headline">¶</a></h1>
<p>This section describes the sky coordinates in use by science tools. It is
referenced from the description of data formats to explain the exact meaning of
the coordinates stored.</p>
<p>We don’t have a separate section for world coordinate systems (WCS), pixel
coordinates, projections, that is covered here as well (see <a class="reference external" href="http://fits.gsfc.nasa.gov/fits_wcs.html">FITS WCS</a> and
<a class="reference external" href="http://www.atnf.csiro.au/people/mcalabre/WCS/">WCSLIB</a> for references).</p>
<p>We only discuss 2-dimensional sky and image coordinates here, other coordinates
like e.g. time or an energy axis aren’t covered here.</p>
<p>Some conventions are adopted from <a class="reference external" href="http://astropy.readthedocs.io/en/latest/coordinates/index.html">astropy.coordinates</a>,
which is a Python wrapper of the <a class="reference external" href="http://www.iausofa.org/">IAU SOFA</a> C time and coordinate library,
which is the authoritative implementation of the IAU Standards of Fundamental Astronomy.
In some cases code examples are given using <cite>astropy.coordinates</cite> to obtain a reference value that
can be used to check a given software package (in case it’s not based on <cite>astropy.coordinates</cite>).</p>
<div class="section" id="ra-dec">
<span id="coords-radec"></span><h2>RA / DEC<a class="headerlink" href="#ra-dec" title="Permalink to this headline">¶</a></h2>
<p>The most common way to give sky coordinates is as right ascension (RA) and
declination (DEC) in the <a class="reference external" href="https://en.wikipedia.org/wiki/Equatorial_coordinate_system">equatorial coordinate system</a>.</p>
<p>Actually there are several equatorial coordinate systems in use, the most common
ones being FK4, FK5 and ICRS.
If you’re interested to learn more about these and
other astronomical coordinate systems, look into the <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2014AAS...22324720U">Explanatory Supplement to the Astronomical Almanac</a>.</p>
<p>But in practice it’s pretty simple: when someone gives or talks about RA / DEC
coordinates, they mean either ICRS or FK5 J2000 coordinates. The difference
between those two is at the sub-arcsecond level for the whole sky, i.e.
irrelevant for gamma-ray astronomy.</p>
<p>We recommend you by default assume RA / DEC is in the ICRS frame, which is the
default in <a class="reference external" href="http://astropy.readthedocs.io/en/latest/api/astropy.coordinates.SkyCoord.html">astropy.coordinates.SkyCoord</a> and also the current standard
celestial reference system adopted by the IAU (see <a class="reference external" href="https://en.wikipedia.org/wiki/International_Celestial_Reference_System">Wikipedia - ICRS</a>).</p>
</div>
<div class="section" id="galactic">
<span id="coords-galactic"></span><h2>Galactic<a class="headerlink" href="#galactic" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Galactic_coordinate_system">Galactic coordinate system</a> is often used by Galactic astronomers.</p>
<p>Unfortunately there are slightly different variants in use (usually with differences at the arcsecond level),
and there are no standard names for these slightly different Galactic coordinate frames.
See <a class="reference external" href="https://github.com/astropy/astropy/issues/3344">here</a> for an open discussion which Galactic coordinates
to support and what to call them in Astropy.</p>
<p>We recommend you use ICRS RA / DEC for precision coordinate computations. If you do use Galactic coordinates,
we recommend you compute them like Astropy does (which I think is the most frame in use in the literature
and in existing astronomy software).</p>
<p>Both ICRS and Galactic coordinates don’t need the specification of an <a class="reference external" href="https://en.wikipedia.org/wiki/Epoch_(astronomy)">epoch</a>
or <a class="reference external" href="https://en.wikipedia.org/wiki/Equinox_(celestial_coordinates)">equinox</a>.</p>
<p>To check your software, you can use the <code class="docutils literal notranslate"><span class="pre">(l,</span> <span class="pre">b)</span> <span class="pre">=</span> <span class="pre">(0,</span> <span class="pre">0)</span></code> position:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">SkyCoord</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SkyCoord</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;deg&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="s1">&#39;galactic&#39;</span><span class="p">)</span>
<span class="go">&lt;SkyCoord (Galactic): (l, b) in deg (0.0, 0.0)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SkyCoord</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;deg&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="s1">&#39;galactic&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">icrs</span>
<span class="go">&lt;SkyCoord (ICRS): (ra, dec) in deg (266.40498829, -28.93617776)&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="alt-az">
<span id="coords-altaz"></span><h2>Alt / Az<a class="headerlink" href="#alt-az" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Horizontal_coordinate_system">horizontal coordinate system</a> is the one connected to an observer at a
given location on earth and point in time.</p>
<ul class="simple">
<li><p>Azimuth is oriented east of north (i.e. north is at 0 deg, east at 90 deg,
south at 180 deg and west at 270 deg). This is the convention used by
<a class="reference external" href="http://astropy.readthedocs.io/en/latest/api/astropy.coordinates.AltAz.html">astropy.coordinates.AltAz</a> and quoted as the most common convention in
astronomy on Wikipedia (see <a class="reference external" href="https://en.wikipedia.org/wiki/Horizontal_coordinate_system">horizontal coordinate system</a>).</p></li>
<li><p>The zenith angle is defined as the angular separation from the <a class="reference external" href="https://en.wikipedia.org/wiki/Zenith">zenith</a>,
which is the direction defined by the line connecting the Earth’s center and the observer.
Altitude and elevation are the same thing, and are defined as 90 degree minus the zenith angle.
The reason to define altitude like this instead of the angle above the horizon is that usually Earth models
aren’t perfect spheres, but ellipsoids, so the zenith angle as defined here isn’t perfectly perpendicular
with the horizon plane.</p></li>
<li><p>Unless explicitly specified, Alt / Az should be assumed to not include any refraction corrections,
i.e. be valid assuming no refraction. Usually this can be achived in coordinate codes by setting
the atmospheric pressure to zero, i.e. turning the atmosphere off.</p></li>
</ul>
<p>Here’s some Astropy coordinates code that shows how to convert back and forth
between ICRS and AltAz coordinates (the default pressure is set to zero in
Astropy, i.e. this is without refraction corrections):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span>
<span class="kn">from</span> <span class="nn">astropy.time</span> <span class="kn">import</span> <span class="n">Time</span>
<span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">SkyCoord</span><span class="p">,</span> <span class="n">EarthLocation</span><span class="p">,</span> <span class="n">AltAz</span>

<span class="c1"># Take any ICRS sky coordinate</span>
<span class="n">icrs</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="o">.</span><span class="n">from_name</span><span class="p">(</span><span class="s1">&#39;crab&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;RA = </span><span class="si">{pos.ra.deg:10.5f}</span><span class="s1">, DEC = </span><span class="si">{pos.dec.deg:10.5f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="n">icrs</span><span class="p">))</span>
<span class="c1"># RA =   83.63308, DEC =   22.01450</span>

<span class="c1"># Convert to AltAz for some random observation time and location</span>
<span class="c1"># This assumes pressure is zero, i.e. no refraction</span>
<span class="n">time</span> <span class="o">=</span> <span class="n">Time</span><span class="p">(</span><span class="s1">&#39;2010-04-26&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;tt&#39;</span><span class="p">)</span>
<span class="n">location</span> <span class="o">=</span> <span class="n">EarthLocation</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">42</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">,</span> <span class="n">lat</span><span class="o">=</span><span class="mi">42</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">42</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">meter</span><span class="p">)</span>
<span class="n">altaz_frame</span> <span class="o">=</span> <span class="n">AltAz</span><span class="p">(</span><span class="n">obstime</span><span class="o">=</span><span class="n">time</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="n">location</span><span class="p">)</span>
<span class="n">altaz</span> <span class="o">=</span> <span class="n">icrs</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">altaz_frame</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;AZ = </span><span class="si">{pos.az.deg:10.5f}</span><span class="s1">, ALT = </span><span class="si">{pos.alt.deg:10.5f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="n">altaz</span><span class="p">))</span>
<span class="c1"># AZ =  351.88232, ALT =  -25.56281</span>

<span class="c1"># Convert back to ICRS to make sure round-tripping is OK</span>
<span class="n">icrs2</span> <span class="o">=</span> <span class="n">altaz</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="s1">&#39;icrs&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;RA = </span><span class="si">{pos.ra.deg:10.5f}</span><span class="s1">, DEC = </span><span class="si">{pos.dec.deg:10.5f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="n">icrs2</span><span class="p">))</span>
<span class="c1"># RA =   83.63308, DEC =   22.01450</span>
</pre></div>
</div>
</div>
<div class="section" id="field-of-view">
<span id="coords-fov"></span><h2>Field of view<a class="headerlink" href="#field-of-view" title="Permalink to this headline">¶</a></h2>
<p>FOV coordinates are currently used in two places in this spec:</p>
<ol class="arabic simple">
<li><p>Some <a class="reference internal" href="../irfs/irf_components/index.html#bkg"><span class="std std-ref">background models</span></a> are in the FOV coordinate system
and FOV coordinates can also be used for other IRFs.</p></li>
<li><p>FOV coordinates appear is as optional columns in the <a class="reference internal" href="../events/events.html#iact-events"><span class="std std-ref">events</span></a> table.
While it is possible to compute FOV coordinates from the <code class="docutils literal notranslate"><span class="pre">RA</span></code>, <code class="docutils literal notranslate"><span class="pre">DEC</span></code>, <code class="docutils literal notranslate"><span class="pre">TIME</span></code> columns
and the observatory <a class="reference internal" href="#coords-location"><span class="std std-ref">Earth location</span></a>, some IACTs choose to add FOV
coordinate columns to their event lists for convenience.</p></li>
</ol>
<p>In Gamma-ray astronomy, sometimes field of view (FOV) coordinates are used.
The basic idea is to have a coordinate system that is centered on the array
pointing position. We define FOV coordinates here to be spherical coordinates,
there is no projection or WCS, only a spherical rotation.</p>
<p>Two ways to give the spherical coordinate are defined:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">(LON,</span> <span class="pre">LAT)</span></code> with the pointing position on the equator at <code class="docutils literal notranslate"><span class="pre">(LON,</span> <span class="pre">LAT)</span> <span class="pre">=</span> <span class="pre">(0,</span> <span class="pre">0)</span></code></dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LON</span></code>: Longitude (range -180 deg to + 180 deg)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LAT</span></code>: Latitude (range -90 deg to + 90 deg)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">(THETA,</span> <span class="pre">PHI)</span></code> with the pointing position at the pole <code class="docutils literal notranslate"><span class="pre">THETA=0</span></code></dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">THETA</span></code>: Offset angle (range 0 deg to +180 deg)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PHI</span></code>: Position angle (range 0 deg to 360 deg)</p></li>
</ul>
</dd>
</dl>
</li>
</ol>
<p>Two orientations of the FOV coordinate system are defined:</p>
<ol class="arabic simple">
<li><p>Aligned with the <code class="docutils literal notranslate"><span class="pre">ALTAZ</span></code> system</p></li>
<li><p>Aligned with the <code class="docutils literal notranslate"><span class="pre">RADEC</span></code> system</p></li>
</ol>
<p>This yields the following possible coordinates:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 69%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FOV_ALTAZ_LON</p></td>
<td><p>Longitude in ALTAZ FOV system</p></td>
</tr>
<tr class="row-odd"><td><p>FOV_ALTAZ_LAT</p></td>
<td><p>Latitude in ALTAZ FOV system</p></td>
</tr>
<tr class="row-even"><td><p>FOV_ALTAZ_THETA</p></td>
<td><p>Offset angle in ALTAZ FOV system</p></td>
</tr>
<tr class="row-odd"><td><p>FOV_ALTAZ_PHI</p></td>
<td><p>Position angle in ALTAZ FOV system</p></td>
</tr>
<tr class="row-even"><td><p>FOV_RADEC_LON</p></td>
<td><p>Longitude in RADEC FOV system</p></td>
</tr>
<tr class="row-odd"><td><p>FOV_RADEC_LAT</p></td>
<td><p>Latitude in RADEC FOV system</p></td>
</tr>
<tr class="row-even"><td><p>FOV_RADEC_THETA</p></td>
<td><p>Offset angle in RADEC FOV system</p></td>
</tr>
<tr class="row-odd"><td><p>FOV_RADEC_PHI</p></td>
<td><p>Position angle in RADEC FOV system</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>The FOV offset angle (separation to pointing position) <code class="docutils literal notranslate"><span class="pre">THETA</span></code> doesn’t depend
on the orientation. So in this spec, often simply <code class="docutils literal notranslate"><span class="pre">THETA</span></code> is used,
and that is equal to <code class="docutils literal notranslate"><span class="pre">FOV_ALTAZ_THETA</span></code> and <code class="docutils literal notranslate"><span class="pre">FOV_RADEC_THETA</span></code>.</p></li>
<li><p>The other FOV coordinates depend on the alignment and orientation of a second
coordinate systems (<code class="docutils literal notranslate"><span class="pre">OTHER</span></code>, either <code class="docutils literal notranslate"><span class="pre">ALTAZ</span></code> or <code class="docutils literal notranslate"><span class="pre">RADEC</span></code>).</p>
<ul>
<li><p>FOV PHI is counterclockwise from OTHER north,
i.e. <code class="docutils literal notranslate"><span class="pre">PHI=0</span> <span class="pre">deg</span></code> pointing to OTHER LAT,
and <code class="docutils literal notranslate"><span class="pre">PHI=270</span> <span class="pre">deg</span></code> pointing to OTHER LON</p></li>
<li><p>FOV LON should increase with decreasing OTHER LON</p></li>
<li><p>FOV LAT should increase with increasing OTHER LAT</p></li>
</ul>
</li>
</ul>
<p>In the <a class="reference internal" href="../events/events.html#iact-events"><span class="std std-ref">events</span></a> table, the column names <code class="docutils literal notranslate"><span class="pre">DETX</span></code> and <code class="docutils literal notranslate"><span class="pre">DETY</span></code>
are sometimes used. This originates from the <a class="reference external" href="https://heasarc.gsfc.nasa.gov/docs/heasarc/ofwg/docs/events/ogip_94_003/ogip_94_003.html">OGIP event list</a> standard,
which uses these names for “detector coordinates”. Given that IACTs don’t have
a detector chip (or at least the FOV coordinates used in high-level analysis are
different from the IACT camera coordinate detectors), the definition is not unambiguous,
both <code class="docutils literal notranslate"><span class="pre">(DETX,</span> <span class="pre">DETY)</span> <span class="pre">=</span> <span class="pre">(FOV_ALTAZ_LON,</span> <span class="pre">FOV_ALTAZ_LAT)</span></code>
and <code class="docutils literal notranslate"><span class="pre">(DETX,</span> <span class="pre">DETY)</span> <span class="pre">=</span> <span class="pre">(FOV_RADEC_LON,</span> <span class="pre">FOV_RADEC_LAT)</span></code>
have been used.</p>
<p>To resolve this ambiguity, we propose a header key <code class="docutils literal notranslate"><span class="pre">FOVALIGN={ALTAZ,RADEC}</span></code>,
specifying which definition of field-of-view coordinates is used. If the key is
not present, <code class="docutils literal notranslate"><span class="pre">FOVALIGN=ALTAZ</span></code> should be assumed as default.</p>
<p>Given the situation that there is no concensus yet, one suggestion is to avoid putting
FOV coordinates in EVENTS, or if they are added, to clearly state how they are defined.</p>
</div>
<div class="section" id="earth-location">
<span id="coords-location"></span><h2>Earth location<a class="headerlink" href="#earth-location" title="Permalink to this headline">¶</a></h2>
<p>When working with Alt-Az coordinates or very high-precision times,
an observatory Earth location is needed. However, note that high-level
analysis for most use cases does not need this information.</p>
<p>The <a class="reference external" href="https://fits.gsfc.nasa.gov/standard40/fits_standard40aa-le.pdf">FITS standard</a> specifies two possibilities for defining observatory location:</p>
<ul class="simple">
<li><p>ITRS Cartesian coordinates (defined in section 8.4.1, strongly prefered according to section 9.3.2)</p></li>
<li><p>Geodetic latitude / longitude / elevation</p></li>
</ul>
<p>For ITRS Cartesian coordinates, use</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OBSGEO-X</span></code>, <code class="docutils literal notranslate"><span class="pre">OBSGEO-Y</span></code>, <code class="docutils literal notranslate"><span class="pre">OBSGEO-Z</span></code> type: float, unit: m</p></li>
</ul>
<p>For geodetic coordinates, use</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OBSGEO-L</span></code> Geographic longitude of array center, type: float, unit: deg</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OBSGEO-B</span></code> Geographic latitude of array center, type: float, unit: deg</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OBSGEO-H</span></code> Altitude of array center above WGS84 reference ellipsoid, type: float, unit: m</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Up to including version 0.2 of this standard,
the keywords <code class="docutils literal notranslate"><span class="pre">GEOLON</span></code>, <code class="docutils literal notranslate"><span class="pre">GEOLAT</span></code> and <code class="docutils literal notranslate"><span class="pre">ALTITUDE</span></code> were used for
the observatory location.</p>
</div>
<p>While it is possible in principle to change this for each FITS file,
in practice the observatory or telescope array center position is something
that is chosen once and then used consistently in the event reconstruction
and analysis. As an example, H.E.S.S. uses the following location and
FITS header keys:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OBSGEO</span><span class="o">-</span><span class="n">B</span> <span class="o">=</span> <span class="o">-</span><span class="mf">23.2717777777778</span> <span class="o">/</span> <span class="n">latitude</span> <span class="n">of</span> <span class="n">observatory</span> <span class="p">(</span><span class="n">deg</span><span class="p">)</span>
<span class="n">OBSGEO</span><span class="o">-</span><span class="n">L</span> <span class="o">=</span>  <span class="mf">16.5002222222222</span> <span class="o">/</span> <span class="n">longitude</span> <span class="n">of</span> <span class="n">observatory</span> <span class="p">(</span><span class="n">deg</span><span class="p">)</span>
<span class="n">OBSGEO</span><span class="o">-</span><span class="n">H</span> <span class="o">=</span>             <span class="mf">1835.</span> <span class="o">/</span> <span class="n">altitude</span> <span class="n">of</span> <span class="n">observatory</span> <span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fits-arrays.html" class="btn btn-neutral float-right" title="FITS Multidimensional datasets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="time.html" class="btn btn-neutral float-left" title="Time" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Gamma-ray astronomy community

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>